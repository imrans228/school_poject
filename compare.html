{% extends "base.html" %}
{% block title %}Сравнение вузов{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto px-4 py-8">
    <h1 class="text-3xl font-black text-slate-900 mb-8 flex items-center gap-3">
        <i data-lucide="scale" class="text-blue-600"></i> Сравнение университетов
    </h1>

    {% if not unis %}
    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-8 rounded-r-xl text-center">
        <div class="flex justify-center mb-4">
            <div class="bg-yellow-100 p-4 rounded-full">
                <i data-lucide="alert-circle" class="w-8 h-8 text-yellow-600"></i>
            </div>
        </div>
        <h3 class="text-xl font-bold text-yellow-800 mb-2">Список пуст</h3>
        <p class="text-yellow-700 mb-6">Вы не выбрали ни одного вуза. Вернитесь в каталог и поставьте галочки "Сравнить".</p>
        <a href="{{ url_for('catalog') }}" class="inline-block bg-yellow-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-yellow-700 transition shadow-lg shadow-yellow-200">
            Перейти в каталог
        </a>
    </div>
    {% else %}
    
    <div class="overflow-x-auto rounded-2xl shadow-xl border border-slate-100 bg-white">
        <table class="w-full min-w-[800px] text-left border-collapse">
            <thead>
                <tr class="bg-slate-50 border-b border-slate-200">
                    <th class="p-6 text-sm font-bold text-slate-500 uppercase w-1/4">Параметры</th>
                    {% for uni in unis %}
                    <th class="p-6 min-w-[250px]">
                        <div class="text-xl font-black text-slate-800">{{ uni.name }}</div>
                        <div class="text-sm text-blue-600 font-medium">{{ uni.city }}</div>
                    </th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody class="divide-y divide-slate-100">
                <tr class="hover:bg-slate-50/50">
                    <td class="p-6 font-bold text-slate-700">Стоимость обучения</td>
                    {% for uni in unis %}
                    <td class="p-6 text-slate-600 font-medium">{{ uni.tuition }} ₸ / год</td>
                    {% endfor %}
                </tr>
                <tr class="hover:bg-slate-50/50">
                    <td class="p-6 font-bold text-slate-700">Проходной балл</td>
                    {% for uni in unis %}
                    <td class="p-6">
                        <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full font-bold text-sm">
                            {{ uni.min_unt_score }} баллов
                        </span>
                    </td>
                    {% endfor %}
                </tr>
                <tr class="hover:bg-slate-50/50">
                    <td class="p-6 font-bold text-slate-700">Рейтинг</td>
                    {% for uni in unis %}
                    <td class="p-6 text-yellow-500 font-bold">⭐ {{ uni.rating }}</td>
                    {% endfor %}
                </tr>
                <tr class="hover:bg-slate-50/50">
                    <td class="p-6 font-bold text-slate-700">Направление</td>
                    {% for uni in unis %}
                    <td class="p-6 text-slate-600">{{ uni.direction }}</td>
                    {% endfor %}
                </tr>
                <tr class="bg-slate-50/30">
                    <td class="p-6"></td>
                    {% for uni in unis %}
                    <td class="p-6">
                        <button onclick="toggleCompare('{{ uni.id }}'); window.location.reload();" 
                                class="text-red-500 hover:text-red-700 font-bold text-sm flex items-center gap-2 transition">
                            <i data-lucide="trash-2" class="w-4 h-4"></i> Убрать
                        </button>
                    </td>
                    {% endfor %}
                </tr>
            </tbody>
        </table>
    </div>

    <div class="mt-8 text-center">
        <button onclick="localStorage.removeItem('compare_unis'); window.location.href='{{ url_for('catalog') }}';" 
                class="text-slate-500 hover:text-red-500 font-medium transition underline">
            Очистить список
        </button>
    </div>

    {% endif %}
</div>
{% endblock %}
